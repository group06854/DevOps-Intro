name: Lab 3 - Manual Workflow
run-name: ${{ github.actor }} manually triggered workflow üöÄ

on: workflow_dispatch

jobs:
  system-info:
    runs-on: ubuntu-latest
    steps:
      - run: echo "üéâ Workflow manually triggered by ${{ github.actor }}"
      
      - name: Check out repository code
        uses: actions/checkout@v5
      
      - name: Display trigger information
        run: |
          echo "========================================"
          echo "TRIGGER INFORMATION"
          echo "========================================"
          echo "Trigger event: ${{ github.event_name }}"
          echo "Branch: ${{ github.ref }}"
          echo "Repository: ${{ github.repository }}"
          echo "Run ID: ${{ github.run_id }}"
          echo "Triggered by: ${{ github.actor }}"
          echo "========================================"
      
      - name: Gather system information
        run: |
          echo ""
          echo "========================================"
          echo "SYSTEM INFORMATION"
          echo "========================================"
          
          echo ""
          echo "--- RUNNER INFORMATION ---"
          echo "Runner name: ${{ runner.name }}"
          echo "Runner OS: ${{ runner.os }}"
          echo "Runner architecture: ${{ runner.arch }}"
          
          echo ""
          echo "--- OPERATING SYSTEM DETAILS ---"
          cat /etc/os-release
          
          echo ""
          echo "--- HARDWARE SPECIFICATIONS ---"
          echo "CPU Model: $(lscpu | grep 'Model name' | cut -d':' -f2 | xargs)"
          echo "CPU Cores: $(nproc)"
          echo "CPU Architecture: $(uname -m)"
          echo "Total Memory: $(free -h | grep 'Mem:' | awk '{print $2}')"
          echo "Available Memory: $(free -h | grep 'Mem:' | awk '{print $7}')"
          echo "Disk Size: $(df -h / | tail -1 | awk '{print $2}')"
          echo "Disk Usage: $(df -h / | tail -1 | awk '{print $5}')"
          
          echo ""
          echo "========================================"
      
      - name: List files in the repository
        run: |
          echo "Repository contents:"
          ls -la ${{ github.workspace }}
      
      - run: echo "üçè Workflow completed with status: ${{ job.status }}"